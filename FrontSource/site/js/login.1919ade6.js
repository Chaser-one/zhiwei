(function(e){function t(t){for(var n,o,s=t[0],u=t[1],c=t[2],p=0,m=[];p<s.length;p++)o=s[p],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&m.push(a[o][0]),a[o]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);l&&l(t);while(m.length)m.shift()();return i.push.apply(i,c||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],n=!0,s=1;s<r.length;s++){var u=r[s];0!==a[u]&&(n=!1)}n&&(i.splice(t--,1),e=o(o.s=r[0]))}return e}var n={},a={login:0},i=[];function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=n,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var l=u;i.push([2,"chunk-vendors"]),r()})({2:function(e,t,r){e.exports=r("4398")},4398:function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticStyle:{width:"100vw",height:"100vh"}},[r("BgCanvas",{attrs:{id:"bg"}}),r("el-row",{staticClass:"form",attrs:{gutter:10}},[r("el-col",{staticClass:"bg-img",attrs:{span:14}}),r("el-col",{attrs:{span:10}},[e.isLogin?r("div",{staticClass:"login-wrapper"},[r("h1",{staticStyle:{"text-align":"center",color:"#16ccec",margin:"5px"}},[e._v("登录")]),r("el-form",{ref:"loginForm",attrs:{model:e.loginForm,"label-width":"100px",rules:e.rules}},[r("el-form-item",{staticClass:"label",attrs:{label:"用户名",prop:"userName"}},[r("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:e.loginForm.userName,callback:function(t){e.$set(e.loginForm,"userName",t)},expression:"loginForm.userName"}})],1),r("el-form-item",{staticClass:"label",attrs:{label:"密码",prop:"password"}},[r("el-input",{attrs:{placeholder:"请输入密码",type:"password"},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("loginForm")}}},[e._v("提交")]),r("el-button",{attrs:{type:"danger"},on:{click:function(t){return e.resetForm("loginForm")}}},[e._v("重置")])],1)],1),r("div",{staticStyle:{"text-align":"right"}},[r("span",{staticStyle:{color:"#3a8ee6"}},[e._v("没有账号,点击")]),r("el-button",{attrs:{type:"primary"},on:{click:e.switchStatus}},[e._v("注册")])],1)],1):r("div",{staticClass:"register-wrapper"},[r("h1",{staticStyle:{"text-align":"center"}},[e._v("注册")]),r("el-form",{ref:"registerForm",attrs:{model:e.registerForm,"label-width":"100px",rules:e.rules}},[r("el-form-item",{staticClass:"label",attrs:{label:"头像",prop:"avatar"}},[r("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.defaultConfig.baseApiUrl+"/uploadImg",name:"blogIllustrations","show-file-list":!1,"on-success":e.handleAvatarSuccess}},[e.registerForm.avatar?r("img",{staticClass:"avatar",attrs:{src:e.registerForm.avatar}}):r("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),r("el-form-item",{staticClass:"label",attrs:{label:"用户名",prop:"userName"}},[r("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:e.registerForm.userName,callback:function(t){e.$set(e.registerForm,"userName",t)},expression:"registerForm.userName"}})],1),r("el-form-item",{staticClass:"label",attrs:{label:"密码",prop:"password"}},[r("el-input",{attrs:{placeholder:"请输入密码",type:"password"},model:{value:e.registerForm.password,callback:function(t){e.$set(e.registerForm,"password",t)},expression:"registerForm.password"}})],1),r("el-form-item",{staticClass:"label",attrs:{label:"确认密码",prop:"confirmPassword"}},[r("el-input",{attrs:{placeholder:"请输入密码",type:"password"},model:{value:e.registerForm.confirmPassword,callback:function(t){e.$set(e.registerForm,"confirmPassword",t)},expression:"registerForm.confirmPassword"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("registerForm")}}},[e._v("提交")]),r("el-button",{attrs:{type:"danger"},on:{click:function(t){return e.resetForm("registerForm")}}},[e._v("重置")])],1)],1),r("div",{staticStyle:{"text-align":"right"}},[r("span",{staticStyle:{color:"#3a8ee6"}},[e._v("有账号,点击")]),r("el-button",{attrs:{type:"primary"},on:{click:e.switchStatus}},[e._v("登录")])],1)],1)])],1)],1)},i=[],o=(r("ac1f"),r("5319"),function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)}),s=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("canvas")])}],u=r("b85c"),c={name:"BgCanvas",data:function(){return{}},mounted:function(){var e,t=250,r=200,n=document.querySelector("canvas"),a=n.getContext("2d"),i=function(e){for(var t=[],r=0;r<e;++r)t.push({x:Math.random()*n.width,y:Math.random()*n.height,s:2*Math.random()+1});return t},o=function(e){var t=a.createLinearGradient(e.x,e.y,e.x,e.y+r),i=1-(n.height-e.y)/n.height*.8;t.addColorStop(0,"hsla(340,100%,100%,".concat(i,")")),t.addColorStop(1,"hsla(340,100%,50%,0)"),a.strokeStyle=t,a.beginPath(),a.moveTo(e.x,e.y),a.lineTo(e.x,e.y+r),a.stroke()},s=function(e){e.y-=e.s,e.y<-r&&(e.y=n.height)},c=function t(r){a.fillStyle="hsl(261,43%,7%)",a.fillRect(0,0,n.width,n.height);var i,c=Object(u["a"])(r);try{for(c.s();!(i=c.n()).done;){var l=i.value;o(l),s(l)}}catch(p){c.e(p)}finally{c.f()}e=requestAnimationFrame((function(){return t(r)}))},l=function(){cancelAnimationFrame(e),n.width=window.innerWidth,n.height=window.innerHeight,c(i(t))};window.onresize=l,l()},methods:{}},l=c,p=(r("4a22"),r("2877")),m=Object(p["a"])(l,o,s,!1,null,"1723e0c6",null),f=m.exports,g=r("773f"),d=r("534f"),h={name:"LoginPage",data:function(){var e=this,t=function(t,r,n){""===r?n(new Error("请输入密码")):(e.registerForm.confirmPassword&&e.$refs.registerForm.validateField("confirmPassword"),n())},r=function(t,r,n){""===r?n(new Error("请输入密码")):r!==e.registerForm.password?n(new Error("两次输入的密码不一样")):n()};return{defaultConfig:g["a"],isLogin:!0,loginForm:{userName:"",password:""},registerForm:{userName:"",password:"",confirmPassword:"",avatar:""},rules:{userName:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:2,max:10,message:"用户名在6~10个字符之间",trigger:"blur"}],password:[{required:!0,validator:t,trigger:"blur"},{min:6,max:16,message:"密码长度在6~16个字符之间",trigger:"blur"}],confirmPassword:[{required:!0,validator:r,trigger:"blur"},{min:6,max:16,message:"密码长度在6~16个字符之间",trigger:"blur"}]}}},components:{BgCanvas:f},methods:{switchStatus:function(){this.isLogin=!this.isLogin},submitForm:function(e){var t=this;this.$refs[e].validate((function(r){r?"loginForm"===e?d["a"].loginUser(t.loginForm).then((function(e){200===e.data.status?(t.$message.success("登录成功"),sessionStorage.setItem("Authorization",e.headers.authorization),window.location.replace("".concat(g["a"].hostname,"/index.html"))):t.$message.error("登录失败:"+e.data.message)})):d["a"].registerUser(t.registerForm).then((function(e){if(200===e.data.status){sessionStorage.setItem("Authorization",e.headers.authorization),t.$message.success("注册成功");var r=setTimeout((function(){window.location.replace("".concat(g["a"].hostname,"/login.html")),clearTimeout(r)}),1e3)}else t.$message.error("注册失败:"+e.data.message)})):t.$message.error("验证失败")}))},resetForm:function(e){this.$refs[e].resetFields()},handleAvatarSuccess:function(e){this.registerForm.avatar=e.data.imgList[0]}}},v=h,b=(r("5767"),Object(p["a"])(v,a,i,!1,null,null,null)),w=b.exports,y=r("5c96"),F=r.n(y);r("0fae");n["default"].use(F.a),n["default"].config.productionTip=!1,new n["default"]({render:function(e){return e(w)}}).$mount("#app")},"4a22":function(e,t,r){"use strict";r("b354")},5232:function(e,t,r){},"534f":function(e,t,r){"use strict";r("96cf");var n=r("1da1"),a=r("d4ec"),i=r("bee2"),o=r("ecb7"),s=r("773f"),u=function(){function e(){Object(a["a"])(this,e)}return Object(i["a"])(e,[{key:"registerUser",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",o["a"].post("".concat(s["a"].baseApiUrl,"/authentication/registerUser"),t));case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"loginUser",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",o["a"].post("".concat(s["a"].baseApiUrl,"/authentication/loginUser"),t));case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"checkPermission",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",o["a"].get("".concat(s["a"].baseApiUrl,"/authentication/checkPermission")));case 1:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"updateUserInfo",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",o["a"].post("".concat(s["a"].baseApiUrl,"/authentication/updateUserInfo"),t));case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getUnapprovedUserList",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",o["a"].get("".concat(s["a"].baseApiUrl,"/authentication/unapprovedUser"),{params:t}));case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getAllUserList",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",o["a"].get("".concat(s["a"].baseApiUrl,"/authentication/unAllUser"),{params:t}));case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"approvedUser",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",o["a"].post("".concat(s["a"].baseApiUrl,"/authentication/approvedUser"),t));case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"unApprovedUser",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",o["a"].post("".concat(s["a"].baseApiUrl,"/authentication/unApprovedUser"),t));case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"deleteUser",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",o["a"].post("".concat(s["a"].baseApiUrl,"/authentication/deleteUser"),t));case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"setAdmin",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",o["a"].post("".concat(s["a"].baseApiUrl,"/authentication/setAdmin"),t));case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"cancelAdmin",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",o["a"].post("".concat(s["a"].baseApiUrl,"/authentication/cancelAdmin"),t));case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getUserRegisterInfo",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",o["a"].get("".concat(s["a"].baseApiUrl,"/authentication/userRegisterInfo")));case 1:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()}]),e}();t["a"]=new u},5767:function(e,t,r){"use strict";r("5232")},"773f":function(e,t,r){"use strict";var n={baseApiUrl:"http://zhiwei.wecan666.com:8888/api/v1",hostname:"http://zhiwei.wecan666.com",wssApiUrl:"ws://zhiwei.wecan666.com:12581"};t["a"]=n},b354:function(e,t,r){},ecb7:function(e,t,r){"use strict";var n=r("bc3a"),a=r.n(n);sessionStorage.getItem("Authorization")&&(a.a.defaults.headers.common["Authorization"]=sessionStorage.getItem("Authorization")),t["a"]=a.a}});